import { Meta } from '@storybook/addon-docs'
import { BADGE } from '@geometricpanda/storybook-addon-badges'

import { Active } from '../Active/Active'
import { Button } from '../Button/Button'
import { Text } from '../Text/Text'
import { Tooltip } from '../Tooltip/Tooltip'
import { Modal } from './Modal'
import { footerContent, scrollContent } from './storybook/contents'

<Meta
  title='Components/Modal'
  component={Modal}
  parameters={{ badges: [BADGE.EXPERIMENTAL] }}
/>

# Modal

Modals are used in `Active` contexts and have subcomponents for `Header`, `Title`, `Body`,
and `Footer`.

<Active>
  <Active.Action>Open</Active.Action>
  <Modal>
    <Modal.Header close>
      <Modal.Title>Demo modal</Modal.Title>
    </Modal.Header>
    <Modal.Body>
      <Text>
        This is an uncontrolled modal that will automatically manage its active state
        using the parent Active component.
      </Text>
      <Tooltip>
        <Tooltip.Action>Z-Index and Modal stacking</Tooltip.Action>
        <Tooltip.Content>
          You can use tooltips and dropdowns in Modals and they will be placed in the
          modal's stacking context, overlaying elements as you'd expect.
        </Tooltip.Content>
      </Tooltip>
    </Modal.Body>
    <Modal.Footer gap={2}>
      <Button as={Active.Action} variant='text' color='anchor'>
        Close
      </Button>
      <Button color='primary'>Save Changes</Button>
    </Modal.Footer>
  </Modal>
</Active>

## Screen center aligned modal

By default modals are `theme.spacing[6]` from the top of the screen. Passing
`align='center'` will center the modal in the screen.

<Active>
  <Active.Action>Open</Active.Action>
  <Modal align='center'>
    <Modal.Body>
      <Text>This modal will be centered in the screen</Text>
    </Modal.Body>
  </Modal>
</Active>

## Modal scrolling

There are three options for modal scrolling: `overlay`, `container`, and `body`.

### Overlay scrolling

The modal scrolls within the screen overlay

<Active>
  <Active.Action>Open</Active.Action>
  <Modal scroll='overlay'>
    {scrollContent}
    {footerContent}
  </Modal>
</Active>

### Container scrolling

The entire modal contents scroll

<Active>
  <Active.Action>Open</Active.Action>
  <Modal scroll='container'>
    {scrollContent}
    {footerContent}
  </Modal>
</Active>

### Body scrolling

Only the modal body scrolls, if the modal has a header or footer they will remain visible.

<Active>
  <Active.Action>Open</Active.Action>
  <Modal scroll='body'>
    {scrollContent}
    {footerContent}
  </Modal>
</Active>
